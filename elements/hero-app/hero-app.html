<link rel="import" href="../hero-list/hero-list.html">
<link rel="import" href="../hero-details/hero-details.html">
<link rel="import" href="../hero-edit/hero-edit.html">
<link rel="import" href="../../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<dom-module id="hero-app">
  <style>
      :host {
        display: block;
        height: 100%;
        box-sizing: border-box;
        max-width: 1000px;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
      }

      hero-details,
      hero-edit {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        max-height: 768px;
        -webkit-transform: translatey(110%);
        transform: translatey(110%);
        transition: all 400ms;
      }

      hero-edit {
        transition: none;
      }

      :host(.state1) hero-details,
      :host(.state2) hero-details,
      :host(.state2) hero-edit {
        -webkit-transform: translatey(0%);
        transform: translatey(0%);
      }

      hero-list {
        height: 100%;
      }
    </style>
  <template>
    <hero-list class="layout vertical" id="list" page="{{page}}" current="{{current}}" hero="{{hero}}" heroes="{{heroes}}"></hero-list>
    <hero-details id="details" page="{{page}}" hero="{{hero}}"></hero-details>
    <hero-edit id="edit" page="{{page}}" current="{{current}}" heroes="{{heroes}}"></hero-edit>
  </template>
  <script>
    Polymer({
      is: 'hero-app',
      properties: { page: { observer: 'pageChanged' } },
      ready: function() {
        // Center the map on madrid
        this.hero = {
          location: {
            latitude: 40.4378271,
            longitude: -3.6795366
          },
          photoUrl: ''
        };
        this.page = 0;
      },
      pageChanged: function() {
        Polymer.dom(this).classList.remove('state0', 'state1', 'state2');
        Polymer.dom(this).classList.add('state' + this.page);
      }
    });
  </script>
</dom-module>
